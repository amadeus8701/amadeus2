<!-- viewer/templates/viewer/index.html -->
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>파일 뷰어</title>
</head>
<body>
    <h1>파일 내용:</h1>
    <div id="file-contents"></div>
    
    <script>
    const socket = new WebSocket('ws://ec2-52-78-22-235.ap-northeast-2.compute.amazonaws.com:8080/ws/update_file/');

    socket.onmessage = function(event) {
        const fileContentsDiv = document.getElementById('file-contents');
        const newContents = event.data;
        const currentContents = fileContentsDiv.innerHTML;

        // 새로운 내용을 현재 내용 아래에 추가
        fileContentsDiv.innerHTML = `${newContents}<hr>${currentContents}`;
    };
    </script>
</body>
</html>